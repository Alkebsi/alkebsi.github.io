import{S as p,T as A}from"./text.wZtHkL5o.js";import{S as g}from"./ScrollManager.BB1oFsBO.js";const y=new p,f=Array.from(document.getElementsByClassName("diamonds-container"));f.forEach(e=>{const t=e.firstElementChild;if(t)for(e._diamondTemplate=t.cloneNode(!0);e.children.length>1;)e.removeChild(e.lastElementChild)});const L=e=>e<500?2:e<800?3:5,T=(e,t)=>{const s=e._diamondTemplate;if(!s)return;const i=e.children.length;if(i!==t)if(i<t){const n=document.createDocumentFragment();for(let a=0;a<t-i;a++)n.appendChild(s.cloneNode(!0));e.appendChild(n)}else for(let n=0;n<i-t;n++)e.removeChild(e.lastElementChild)};let c=!1;const h=()=>{const e=L(window.innerHeight);f.forEach(t=>T(t,e)),c=!1},S=()=>{c||(c=!0,window.requestAnimationFrame(()=>{y.resize(),h()}))};h();window.addEventListener("resize",S);const v=new A,u=v.anim,l=document.querySelectorAll(".nav-btns"),C=e=>{u({element:e,type:"hide",delay:.2})},w=e=>{u({element:e,type:"reveal",dir:"down",delay:.2})},d=new WeakMap;for(const e of l){const t=v.splitText(e).chars;d.set(e,t);const s=a=>{const m=a.currentTarget.id.replace("nav-","");E.scrollTo(`${m!=="home"?`#${m}-section`:"#intro-spacer"}`)},i=()=>{e.classList.contains("active")||w(t)},n=()=>{e.classList.contains("active")||C(t)};n(),e.addEventListener("click",s),e.addEventListener("pointerenter",i),e.addEventListener("pointerleave",n)}const E=new g;let r=0;const o=l.length>0?Array.from(l):[],x=({progress:e})=>{let t=0;if(e>=0&&e<.8?t=0:e>.8&&e<2.2?t=1:e>2.2&&e<2.9?t=2:(e>2.9&&e<=3,t=3),t=Math.max(0,Math.min(t,Math.max(0,o.length-1))),t!==r){const s=o[r];if(s){s.classList.remove("active");const n=d.get(s);n&&C(n)}const i=o[t];if(i){i.classList.add("active");const n=d.get(i);n&&setTimeout(()=>{w(n)},500)}r=t}};E.addEventListener("sectionChange",x);
